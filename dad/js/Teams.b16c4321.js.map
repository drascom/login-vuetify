{"version":3,"sources":["webpack:///./src/views/Teams.vue?34f5","webpack:///src/views/Teams.vue","webpack:///./src/views/Teams.vue?1c95","webpack:///./src/views/Teams.vue?e439","webpack:///./src/views/Teams.vue?9ef5","webpack:///./src/components/ui/autocomplete.vue?b3b3","webpack:///src/components/ui/autocomplete.vue","webpack:///./src/components/ui/autocomplete.vue?7ae7","webpack:///./src/components/ui/autocomplete.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","editMode","on","$event","closeForm","ref","model","value","form","callback","$$v","$set","expression","key","members","linked","length","_l","item","i","domProps","display","_e","isLoading","saveTeam","dialog","$vuetify","breakpoint","xs","smAndUp","search","teams","class","xsOnly","index","name","phone","_f","_created","editPost","deleteItem","staticRenderFns","components","tags","data","ready","methods","saveItem","save","payload","computed","filteredList","filter","toLowerCase","includes","component","VBtn","VCard","VCardText","VCardTitle","VChip","VContainer","VFlex","VForm","VIcon","VLayout","VList","VListItem","VListItemAction","VListItemActionText","VListItemContent","VListItemGroup","VListItemIcon","VListItemSubtitle","VListItemTitle","VRow","VSlideYTransition","VSpacer","VSubheader","VTextField","VToolbar","VToolbarTitle","list","label","multi","required","v","selectedValue","props","inputVal","get","set","val","forEach","sendBack","push","_id","link","table","$emit","remove","splice","VAutocomplete"],"mappings":"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","file":"js/Teams.b16c4321.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"mb-2\"},[_c('v-slide-y-transition',{attrs:{\"hide-on-leave\":\"\"}},[(_vm.dialog)?_c('v-card',[_c('v-card-title',[_c('h2',{staticClass:\"subheading grey--text\"},[_vm._v(\" \"+_vm._s(_vm.editMode ? \"Düzenle\" : \"Yeni Ekle\")+\" \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.closeForm()}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',[_c('v-form',{ref:\"form\",staticClass:\"px-3\"},[_c('v-text-field',{attrs:{\"type\":\"text\",\"outlined\":\"\",\"placeholder\":\"Takım Adı\",\"prepend-inner-icon\":\"edit\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('v-text-field',{attrs:{\"type\":\"hidden\"},model:{value:(_vm.form.membercount),callback:function ($$v) {_vm.$set(_vm.form, \"membercount\", $$v)},expression:\"form.membercount\"}}),_c('tags',{key:\"admin\",attrs:{\"list\":_vm.members,\"label\":\"Takım Admin\",\"multi\":false,\"table\":\"members\"},model:{value:(_vm.form.admin),callback:function ($$v) {_vm.$set(_vm.form, \"admin\", $$v)},expression:\"form.admin\"}}),_c('tags',{key:\"member\",attrs:{\"list\":_vm.members,\"label\":\"Üye Seç\",\"table\":\"members\",\"multi\":true},model:{value:(_vm.form.linked),callback:function ($$v) {_vm.$set(_vm.form, \"linked\", $$v)},expression:\"form.linked\"}}),(_vm.form.linked)?_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\" Kayıtlı Üyeler \"+_vm._s(_vm.form.linked.length))]),_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},_vm._l((_vm.form.linked),function(item,i){return _c('v-list-item',{key:i},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\" mdi-account \")])],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.display)}})],1)],1)}),1)],1):_vm._e(),_c('v-row',{staticClass:\"justify-end ma-2\"},[_c('v-btn',{staticClass:\"success mx-0 mt-3 \",attrs:{\"elevation-6\":\"\",\"loading\":_vm.isLoading},on:{\"click\":function($event){return _vm.saveTeam()}}},[_vm._v(\" \"+_vm._s(_vm.editMode ? \"Kaydet\" : \"Ekle\")+\" \")])],1)],1)],1)],1):_vm._e()],1),(!_vm.dialog)?[_c('v-toolbar',{attrs:{\"fixed\":\"\"}},[_c('v-toolbar-title',{staticClass:\"grey--text font-weight-bold\"},[_vm._v(\" Takımlar \")]),_c('v-spacer'),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"icon\":_vm.$vuetify.breakpoint.xs,\"color\":\"red\",\"dark\":\"\"},on:{\"click\":function($event){_vm.dialog = !_vm.dialog}}},[_c('v-icon',{attrs:{\"left\":_vm.$vuetify.breakpoint.smAndUp}},[_vm._v(\" mdi-plus \")]),_vm._v(\" \"+_vm._s(_vm.$vuetify.breakpoint.smAndUp ? \"Ekle\" : \"\")+\" \")],1)],1),_c('v-text-field',{attrs:{\"type\":\"text\",\"dense\":\"\",\"filled\":\"\",\"placeholder\":\"Arama\",\"hide-details\":\"\",\"prepend-inner-icon\":\"mdi-magnify\",\"single-line\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),(_vm.teams.length < 1)?_c('v-layout',{staticClass:\"pt-12\",attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\",\"align-center\":\"\"}},[_c('span',{class:{\n            'grey--text text-h4': _vm.$vuetify.breakpoint.smAndUp,\n            'grey--text text-h5 ': _vm.$vuetify.breakpoint.xsOnly\n          }},[_vm._v(\" Hiç Üye bulunamadı 😔 \")])])],1):_vm._e(),(_vm.teams)?_c('v-list',_vm._l((_vm.filteredList),function(item,index){return _c('v-card',{key:index,staticClass:\"my-4\"},[_c('v-list-item',{key:index,staticClass:\"project\",class:_vm.$vuetify.breakpoint.xs ? 'px-1' : ''},[_c('v-list-item-content',[_c('v-layout',{staticClass:\"mt-1 ml-1\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-icon',[_vm._v(\" drag_indicator \")]),_vm._v(\" \"+_vm._s(item.name)+\" \")],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-phone\")]),_vm._v(_vm._s(item.phone || \" - Yok - \")+\" \")],1)],1),(item.linked)?_c('v-list-item-subtitle',[_c('v-chip',{staticClass:\"mt-4 mr-2\",attrs:{\"small\":\"\"}},[_vm._v(\" \"+_vm._s(item.linked.length)+\" Üye \")])],1):_c('v-list-item-subtitle',[_c('v-chip',{staticClass:\"mt-4 mr-2\",attrs:{\"small\":\"\"}},[_vm._v(\" \\\"Üyesi Yok.\\\" \")])],1)],1),_c('v-list-item-action',{},[_c('v-list-item-action-text',[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(item._created,\" Do, MMMM YYYY\"))+\" \")]),_c('div',{staticClass:\"d-flex flew-row\"},[_c('v-btn',{staticClass:\"project ma-1\",attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.editPost(item)}}},[_c('v-icon',[_vm._v(\"edit\")])],1),_c('v-btn',{staticClass:\"project ma-1\",attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_c('v-icon',[_vm._v(\"delete\")])],1)],1)],1)],1)],1)}),1):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container class=\"mb-2\">\n    <v-slide-y-transition hide-on-leave>\n      <v-card v-if=\"dialog\">\n        <v-card-title>\n          <h2 class=\"subheading grey--text\">\n            {{ editMode ? \"Düzenle\" : \"Yeni Ekle\" }}\n          </h2>\n          <v-spacer></v-spacer>\n          <v-btn color=\"red\" icon @click=\"closeForm()\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-card-title>\n\n        <v-card-text>\n          <v-form class=\"px-3\" ref=\"form\">\n            <v-text-field\n              type=\"text\"\n              outlined\n              placeholder=\"Takım Adı\"\n              v-model=\"form.name\"\n              prepend-inner-icon=\"edit\"\n            />\n            <v-text-field type=\"hidden\" v-model=\"form.membercount\" />\n            <tags\n              key=\"admin\"\n              v-model=\"form.admin\"\n              :list=\"members\"\n              label=\"Takım Admin\"\n              :multi=\"false\"\n              table=\"members\"\n            ></tags>\n            <tags\n              key=\"member\"\n              v-model=\"form.linked\"\n              :list=\"members\"\n              label=\"Üye Seç\"\n              table=\"members\"\n              :multi=\"true\"\n            ></tags>\n\n            <v-list dense v-if=\"form.linked\">\n              <v-subheader>\n                Kayıtlı Üyeler {{ form.linked.length }}</v-subheader\n              >\n              <v-list-item-group color=\"primary\">\n                <v-list-item v-for=\"(item, i) in form.linked\" :key=\"i\">\n                  <v-list-item-icon>\n                    <v-icon> mdi-account </v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title\n                      v-text=\"item.display\"\n                    ></v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n\n            <v-row class=\"justify-end ma-2\">\n              <v-btn\n                elevation-6\n                class=\"success mx-0 mt-3 \"\n                @click=\"saveTeam()\"\n                :loading=\"isLoading\"\n              >\n                {{ editMode ? \"Kaydet\" : \"Ekle\" }}\n              </v-btn>\n            </v-row>\n          </v-form>\n        </v-card-text>\n      </v-card>\n    </v-slide-y-transition>\n\n    <template v-if=\"!dialog\">\n      <v-toolbar fixed>\n        <v-toolbar-title class=\"grey--text font-weight-bold\">\n          Takımlar\n        </v-toolbar-title>\n\n        <v-spacer></v-spacer>\n        <v-btn\n          :icon=\"$vuetify.breakpoint.xs\"\n          color=\"red\"\n          class=\"mx-2\"\n          dark\n          @click=\"dialog = !dialog\"\n        >\n          <v-icon :left=\"$vuetify.breakpoint.smAndUp\"> mdi-plus </v-icon>\n          {{ $vuetify.breakpoint.smAndUp ? \"Ekle\" : \"\" }}\n        </v-btn>\n      </v-toolbar>\n      <v-text-field\n        type=\"text\"\n        dense\n        filled\n        placeholder=\"Arama\"\n        v-model=\"search\"\n        hide-details\n        prepend-inner-icon=\"mdi-magnify\"\n        single-line\n      />\n      <v-layout row justify-center v-if=\"teams.length < 1\" class=\"pt-12\">\n        <v-layout column align-center>\n          <span\n            :class=\"{\n              'grey--text text-h4': $vuetify.breakpoint.smAndUp,\n              'grey--text text-h5 ': $vuetify.breakpoint.xsOnly\n            }\"\n          >\n            Hiç Üye bulunamadı 😔\n          </span>\n        </v-layout>\n      </v-layout>\n      <v-list v-if=\"teams\">\n        <v-card class=\"my-4\" v-for=\"(item, index) in filteredList\" :key=\"index\">\n          <v-list-item\n            :key=\"index\"\n            class=\"project\"\n            :class=\"$vuetify.breakpoint.xs ? 'px-1' : ''\"\n          >\n            <v-list-item-content>\n              <v-layout row wrap class=\"mt-1 ml-1\">\n                <v-flex xs12 sm6>\n                  <v-icon>\n                    drag_indicator\n                  </v-icon>\n                  {{ item.name }}\n                </v-flex>\n                <v-flex xs12 sm6>\n                  <v-icon small left>mdi-phone</v-icon\n                  >{{ item.phone || \" - Yok - \" }}\n                </v-flex>\n              </v-layout>\n              <v-list-item-subtitle v-if=\"item.linked\">\n                <v-chip small class=\"mt-4 mr-2\">\n                  {{ item.linked.length }} Üye\n                </v-chip>\n              </v-list-item-subtitle>\n              <v-list-item-subtitle v-else>\n                <v-chip small class=\"mt-4 mr-2\">\n                  \"Üyesi Yok.\"\n                </v-chip>\n              </v-list-item-subtitle>\n            </v-list-item-content>\n            <v-list-item-action class=\"\">\n              <v-list-item-action-text>\n                {{ item._created | moment(\" Do, MMMM YYYY\") }}\n              </v-list-item-action-text>\n              <div class=\"d-flex flew-row\">\n                <v-btn icon small class=\"project ma-1\" @click=\"editPost(item)\">\n                  <v-icon>edit</v-icon>\n                </v-btn>\n                <v-btn\n                  icon\n                  small\n                  @click=\"deleteItem(item)\"\n                  class=\"project ma-1\"\n                >\n                  <v-icon>delete</v-icon>\n                </v-btn>\n              </div>\n            </v-list-item-action>\n          </v-list-item>\n        </v-card>\n      </v-list>\n    </template>\n  </v-container>\n</template>\n\n<script>\n/* eslint-disable no-unused-vars */\n\nimport { mapActions } from \"vuex\"\nimport { mapState } from \"vuex\"\n\nimport tags from \"@/components/ui/autocomplete.vue\"\nexport default {\n  name: \"Teams\",\n  components: {\n    tags\n  },\n  data() {\n    return {\n      ready: false,\n      search: \"\",\n      editMode: false,\n      dialog: false,\n      isLoading: false,\n      form: {}\n    }\n  },\n\n  methods: {\n    ...mapActions([\"getAllItems\", \"save\", \"delete\"]),\n    closeForm() {\n      this.dialog = false\n      this.editMode = false\n      this.form = {}\n    },\n    editPost(item) {\n      this.form = item\n      this.editMode = true\n      this.dialog = true\n    },\n    saveItem(payload) {\n      return this.save(payload)\n    },\n    async saveTeam() {\n      this.isLoading = true\n      this.loadingText = \"Takım kaydediliyor\"\n\n      // => linkleri leri ayrı olarak tut\n      let linked = this.form.linked\n\n      // => linkleri formdan kaldır\n      this.$delete(this.form, \"linked\")\n\n      //önce takımı kaydet\n      let savedTeam = await this.save({\n        parent: \"collections\",\n        child: \"teams\",\n        data: this.form\n      })\n      if (savedTeam) {\n        this.$store.dispatch(\"snackbar/setSnackbar\", {\n          color: \"success\",\n          message: savedTeam.data.name + \" Kaydedildi\"\n        })\n        this.loadingText = \"Takım Kayıtları Siliniyor\"\n        //bu takımın eski team üye kayıtlarını sil\n        let remove = await this.delete({\n          parent: \"collections\",\n          child: \"teammember\",\n          data: { filter: { \"team._id\": savedTeam.data._id } }\n        })\n        this.loadingText = \"Takımlar kaydediliyor\"\n        //her bir member için takım adıyla ilişki kaydet\n        if (linked && linked.length >= 0) {\n          let complete = await Promise.all(\n            linked.map(async (item) => {\n              let member = {\n                _id: item._id,\n                link: \"members\",\n                display: item.display\n              }\n              let team = {\n                _id: savedTeam.data._id,\n                link: \"teams\",\n                display: savedTeam.data.name\n              }\n              let result = await this.saveItem({\n                parent: \"collections\",\n                child: \"teammember\",\n                data: { member: item, team }\n              })\n            })\n          )\n          if (complete) {\n            this.getAllItems({\n              parent: \"collections\",\n              child: \"teams\",\n              data: \"\"\n            })\n            this.$store.dispatch(\"snackbar/setSnackbar\", {\n              color: \"success\",\n              message: \"Takım Kayıtları yenilendi.\"\n            })\n            this.isLoading = false\n            this.loadingText = \"\"\n          }\n        }\n      }\n      this.isLoading = false\n      this.loadingText = \"\"\n      this.closeForm()\n    },\n    async deleteItem(payload) {\n      const res = await this.$confirm(\"Gerçekten Silmek İstiyor musunuz ?\", {\n        title: \"Uyarı\",\n        buttonTrueText: \"Evet\",\n        buttonFalseText: \"Hayır\",\n        color: \"red\"\n      })\n      if (res) {\n        this.isLoading = true\n        console.log(payload)\n        let result = await this.delete({\n          parent: \"collections\",\n          child: \"teams\",\n          data: payload._id\n        })\n        console.log(\"remove result\", result)\n        if (result && result.data.success) {\n          console.log(\"remove success\")\n          this.isLoading = false\n          this.closeForm()\n        }\n      }\n    }\n  },\n  computed: {\n    ...mapState({\n      members: (state) => state.collections.members,\n      teams: (state) => state.collections.teams\n    }),\n    filteredList() {\n      return this.teams.filter((item) => {\n        return item.name.toLowerCase().includes(this.search.toLowerCase())\n      })\n    }\n  },\n  async mounted() {\n    if (!this.members || this.members.length <= 0) {\n      await this.getAllItems({\n        parent: \"collections\",\n        child: \"members\",\n        data: \"\"\n      })\n    }\n    if (!this.teams || this.teams.length <= 0) {\n      await this.getAllItems({\n        parent: \"collections\",\n        child: \"teams\",\n        data: \"\"\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.project {\n  border-left: 4px solid #f83e70;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Teams.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Teams.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Teams.vue?vue&type=template&id=52c37ae8&scoped=true&\"\nimport script from \"./Teams.vue?vue&type=script&lang=js&\"\nexport * from \"./Teams.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Teams.vue?vue&type=style&index=0&id=52c37ae8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52c37ae8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemActionText } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSlideYTransition } from 'vuetify/lib/components/transitions';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VChip,VContainer,VFlex,VForm,VIcon,VLayout,VList,VListItem,VListItemAction,VListItemActionText,VListItemContent,VListItemGroup,VListItemIcon,VListItemSubtitle,VListItemTitle,VRow,VSlideYTransition,VSpacer,VSubheader,VTextField,VToolbar,VToolbarTitle})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Teams.vue?vue&type=style&index=0&id=52c37ae8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-autocomplete',{attrs:{\"items\":_vm.list,\"item-value\":\"display\",\"item-text\":\"name\",\"outlined\":\"\",\"chips\":\"\",\"small-chips\":\"\",\"deletable-chips\":\"\",\"label\":_vm.label,\"multiple\":_vm.multi,\"return-object\":\"\",\"hide-selected\":\"\",\"rules\":_vm.required ? [function (v) { return !!v || 'En Az Bir kayıt seçiniz'; }] : []},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-autocomplete\r\n    v-model=\"selectedValue\"\r\n    :items=\"list\"\r\n    item-value=\"display\"\r\n    item-text=\"name\"\r\n    outlined\r\n    chips\r\n    small-chips\r\n    deletable-chips\r\n    :label=\"label\"\r\n    :multiple=\"multi\"\r\n    return-object\r\n    hide-selected\r\n    :rules=\"required ? [(v) => !!v || 'En Az Bir kayıt seçiniz'] : []\"\r\n  >\r\n  </v-autocomplete>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"tags\",\r\n  props: [\"value\", \"list\", \"label\", \"multi\", \"table\", \"required\"],\r\n  data() {\r\n    return {\r\n      inputVal: this.value\r\n    }\r\n  },\r\n  computed: {\r\n    selectedValue: {\r\n      get() {\r\n        return this.inputVal ? this.inputVal : null\r\n      },\r\n      set(val) {\r\n        let sendBack = []\r\n        if (val.length > 0) {\r\n          val.forEach((item) => {\r\n            sendBack.push({\r\n              _id: item._id,\r\n              link: this.table,\r\n              display: item.name || item.display\r\n            })\r\n          })\r\n        } else {\r\n          sendBack = {\r\n            _id: val._id,\r\n            link: this.table,\r\n            display: val.name || val.display\r\n          }\r\n        }\r\n\r\n        this.$emit(\"input\", sendBack)\r\n        // this.inputVal = sendBack\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    remove(index) {\r\n      if (index >= 0) this.inputVal.splice(index, 1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./autocomplete.vue?vue&type=template&id=5ebecf1e&scoped=true&\"\nimport script from \"./autocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./autocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ebecf1e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n"],"sourceRoot":""}